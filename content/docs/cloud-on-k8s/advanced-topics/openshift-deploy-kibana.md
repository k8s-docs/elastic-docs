---
title: "带路由部署Kibana实例"
linkTitle: ""
weight: 1
---

Use the following code to create a Kibana instance and a "passthrough" route to access it:

cat <<EOF | oc apply -n elastic -f -
apiVersion: kibana.k8s.elastic.co/v1
kind: Kibana
metadata:
name: kibana-sample
spec:
version: 7.8.1
count: 1
elasticsearchRef:
name: "elasticsearch-sample"
podTemplate:
spec:
containers: - name: kibana
resources:
limits:
memory: 1Gi
cpu: 1

---

apiVersion: v1
kind: Route
metadata:
name: kibana-sample
spec:
#host: kibana.example.com # override if you don't want to use the host that is automatically generated by OpenShift (<route-name>[-<namespace>].<suffix>)
tls:
termination: passthrough # Kibana is the TLS endpoint
insecureEdgeTerminationPolicy: Redirect
to:
kind: Service
name: kibana-sample-kb-http
EOF
Use the following command to get the hosts of each Route:

oc get route -n elastic
